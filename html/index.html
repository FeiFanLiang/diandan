<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>浅深自助点单</title>
    <link rel="stylesheet" type="text/css" href="../css/reset.css" />
    <link rel="stylesheet" type="text/css" href="../css/common.css">
    <link rel="stylesheet" type="text/css" href="../css/index.css">
    <script src="../js/jquery.min.js"></script>
</head>

<body>
    <header class="top-container">
        <!-- 页头 -->
        <div class="top-wrap">
            <div class="menu-wrap">
                <div class="back-btn-warp" id="index_back">
                    <i class="back-arrow icon"></i>
                    <span>返回</span>
                </div>
                <div class="index-logo icon"></div>
                <div class="menu-btn-wrap">
                    <i class="recommoned-icon icon"></i>
                    <i class="menu-btn icon" id="head_menu"></i>
                </div>
            </div>
            <!-- 页头搜索栏 -->
            <div class="nav-search">
                <div class="input-container">
                    <i class="icon search-icon"></i>
                    <input type="text" placeholder="请输入菜品编码/简码/名称">
                </div>.
            </div>
        </div>
    </header>
    <!-- 内容区域 -->
    <section class="content-wrap">
        <div class="content-header">
            <div class="table-num">
                <i class="line icon"></i>
                <i class="position-icon icon"></i>
                <span>101 桌</span>
                <i class="line icon"></i>
            </div>
        </div>
        <div class="main">
            <!-- 商品列表 -->
            <div class="dish-wrap">
                <!-- 模拟数据 -->
                <div class="dish-item">
                    <div class="item-content">
                        <a href="./dish-detail.html">
                            <div class="dish-img">
                                <img src="../images/demo1.png" alt="菜品展示">
                            </div>
                        </a>
                        <div class="dish-detail">
                            <span class="dish-name">树莓</span>
                            <div class="order-btn-wrap">
                                <div class="order-price">¥
                                    <span class="price">20</span>
                                </div>
                                <div class="btnShow-container">
                                    <div class="order-btn-show">
                                        <i class="sub-order-icon icon" id="subDish_num"></i>
                                        <span class="order-num">1</span>
                                        <i class="order-icon icon" id="addDish_num"></i>
                                    </div>
                                </div>

                                <div class="order-btn">
                                    <i class="order-icon icon"></i>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="dish-item">
                    <div class="item-content">
                        <a href="./dish-detail.html">
                            <div class="dish-img">
                                <img src="../images/demo1.png" alt="菜品展示">
                            </div>
                        </a>
                        <div class="dish-detail">
                            <span class="dish-name">树莓</span>
                            <div class="order-btn-wrap">
                                <div class="order-price">¥
                                    <span class="price">20</span>
                                </div>
                                <div class="btnShow-container">
                                    <div class="order-btn-show">
                                        <i class="sub-order-icon icon" id="subDish_num"></i>
                                        <span class="order-num">1</span>
                                        <i class="order-icon icon" id="addDish_num"></i>
                                    </div>
                                </div>

                                <div class="order-btn">
                                    <i class="order-icon icon"></i>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="dish-item">
                    <div class="item-content">
                        <a href="./dish-detail.html">
                            <div class="dish-img">
                                <img src="../images/demo1.png" alt="菜品展示">
                            </div>
                        </a>
                        <div class="dish-detail">
                            <span class="dish-name">树莓</span>
                            <div class="order-btn-wrap">
                                <div class="order-price">¥
                                    <span class="price">20</span>
                                </div>
                                <div class="btnShow-container">
                                    <div class="order-btn-show">
                                        <i class="sub-order-icon icon" id="subDish_num"></i>
                                        <span class="order-num">1</span>
                                        <i class="order-icon icon" id="addDish_num"></i>
                                    </div>
                                </div>

                                <div class="order-btn">
                                    <i class="order-icon icon"></i>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="dish-item">
                    <div class="item-content">
                        <a href="./dish-detail.html">
                            <div class="dish-img">
                                <img src="../images/demo1.png" alt="菜品展示">
                            </div>
                        </a>
                        <div class="dish-detail">
                            <span class="dish-name">树莓</span>
                            <div class="order-btn-wrap">
                                <div class="order-price">¥
                                    <span class="price">20</span>
                                </div>
                                <div class="btnShow-container">
                                    <div class="order-btn-show">
                                        <i class="sub-order-icon icon" id="subDish_num"></i>
                                        <span class="order-num">1</span>
                                        <i class="order-icon icon" id="addDish_num"></i>
                                    </div>
                                </div>

                                <div class="order-btn">
                                    <i class="order-icon icon"></i>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="dish-item">
                    <div class="item-content">
                        <a href="./dish-detail.html">
                            <div class="dish-img">
                                <img src="../images/demo1.png" alt="菜品展示">
                            </div>
                        </a>
                        <div class="dish-detail">
                            <span class="dish-name">树莓</span>
                            <div class="order-btn-wrap">
                                <div class="order-price">¥
                                    <span class="price">20</span>
                                </div>
                                <div class="btnShow-container">
                                    <div class="order-btn-show">
                                        <i class="sub-order-icon icon" id="subDish_num"></i>
                                        <span class="order-num">1</span>
                                        <i class="order-icon icon" id="addDish_num"></i>
                                    </div>
                                </div>

                                <div class="order-btn">
                                    <i class="order-icon icon"></i>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="dish-item">
                    <div class="item-content">
                        <a href="./dish-detail.html">
                            <div class="dish-img">
                                <img src="../images/demo1.png" alt="菜品展示">
                            </div>
                        </a>
                        <div class="dish-detail">
                            <span class="dish-name">树莓</span>
                            <div class="order-btn-wrap">
                                <div class="order-price">¥
                                    <span class="price">20</span>
                                </div>
                                <div class="btnShow-container">
                                    <div class="order-btn-show">
                                        <i class="sub-order-icon icon" id="subDish_num"></i>
                                        <span class="order-num">1</span>
                                        <i class="order-icon icon" id="addDish_num"></i>
                                    </div>
                                </div>

                                <div class="order-btn">
                                    <i class="order-icon icon"></i>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

            </div>



        </div>
    </section>
    <footer>
        <div class="cart-wrap" id="cart">
            <div class="cart-num-wrap">
                <i class="cart-icon icon"></i>
                <div class="cart-text">
                    共
                    <span class="cart-num" id="cart_num">0</span>件商品
                </div>
            </div>
            <div class="pay-btn">
                <a href="javascript:void(0)" id="pay_btn">
                    去下单
                </a>
            </div>
        </div>
    </footer>
    <!-- 左侧浮层菜单 -->
    <div class="aside-dialog" id="aside_dialog">
        <div class="aside-nav">
            <ul class="nav-list">
                <li>
                    <span class="list-item">主厨推荐</span>
                </li>
                <li>
                    <span class="list-item">主厨推荐</span>
                </li>
                <li>
                    <span class="list-item">饮料</span>
                </li>
                <li>
                    <span class="list-item">主厨推荐</span>
                </li>
            </ul>
        </div>
    </div>

</body>
<script>
    $(function () {

        $('#head_menu').on('click', function (e) {
            e.stopPropagation()
            $('#aside_dialog').toggleClass('active')
        });


        $('#index_back').on('click', function (e) {
            window.location.href = './start-index.html'
        })

        $('#pay_btn').on('click', function () {
            window.location.href = './order-detail.html'
        })
        $('.order-btn').on('click', function () {
            $(this).toggle()
            $(this).siblings('.btnShow-container').toggle()
        })
        function subNum(num){
            if(num > 0){
                return num - 1
            }else{
                return 0
            }
        }
        $('#addDish_num').on('click', function () {
            
            $(this).siblings('.order-num').text(function (n, text) {
                var num = Number(text) + 1
                conut = num
                return num
            })
          
        })
        $('#subDish_num').on('click', function () {
            var count
            $(this).siblings('.order-num').text(function (n, text) {
                var num = Number(text)
                return subNum(num)
            })
            
        })
        function getParentNode(node) {
            if (node.nodeName == 'LI') {
                return node
            } else {
                var parent = node.parentNode
                return getParentNode(parent)
            }
        }
        $('.nav-list').on('click', function (e) {
            var node = getParentNode(e.target)
            $(node).toggleClass('checked').siblings('li').removeClass('checked')

        })
    })
</script>

</html>